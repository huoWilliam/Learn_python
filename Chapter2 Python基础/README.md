# Python基础

Python使用缩进来组织代码块，请务必遵守约定俗成的习惯，**坚持使用4个空格的缩进。**

并且，Python程序是大小写敏感。

## 数据类型

在Python中，能够直接处理的数据类型有以下几种：

### 整数

Python可以处理任意大小的整数。

### 浮点数

对于很大或很小的浮点数，就必须用科学计数法表示，把10用e替代，1.23x109就是`1.23e9`。

整数和浮点数在计算机内部存储的方式是不同的，**整数运算永远是精确的（除法难道也是精确的？是的！），而浮点数运算则可能会有四舍五入的误差。**

Python的浮点数没有大小限制，但是超出一定范围就直接表示为`inf`（无限大）。

### 字符串

字符串是以单引号`'`或双引号`"`括起来的任意文本。

如果字符串内部既包含`'`又包含`"`怎么办？可以用转义字符`\`来标识

### 布尔值

一个布尔值只有`True`、`False`两种值，在Python中，可以直接用`True`、`False`表示布尔值（请注意大小写）。

布尔值可以用`and`、`or`和`not`运算。

### 空值

空值是Python里一个特殊的值，用`None`表示。`None`不能理解为`0`，因为`0`是有意义的，而`None`是一个特殊的空值。

---

参考代码：  [data.py](data.py) 

## 数据类型转换

### int

支持转换为 int 类型的，仅有 `float`、`str`、`bytes`，其他类型均不支持。

1. float->int：会去掉小数点及后面的数值，仅保留整数部分
2. str->int：如果字符串中含有数字和正负号以外的字符，就会报错
3. bytes->int：如果 bytes 中有数字(0-9)和正负号(+/-)以外的字符，就会报错。

### float

支持转换为 float 类型的，仅有 `int`、`str`、`bytes`，其他类型均不支持。

1. int->float：int 转换为 float 时，会自动给添加一位小数。
2. str->float：如果字符串含有正负号(+/-)、数字(0-9)和小数点(.)以外的字符，则不支持转换。
3. bytes->float：如果 bytes 中含有正负号(+/-)、数字(0-9)和小数点(.)以外的字符，则不支持转换。

### str

`str()` 函数可以将任意对象转换为字符串。

1. int->str：int 转换 str 会直接完全转换。
2. float->str：float 转换 str 会去除末位为 0 的小数部分。
3. list->str：会先将值格式化为标准的 list 表达式，然后再转换为字符串。
4. tuple->str：会先将值格式化为标准的 tuple 表达式，然后再转换为字符串。
5. dict->str：会先将值格式化为标准的 dict 表达式，然后再转换为字符串。
6. set->str：会先将值格式化为标准的 set 表达式，然后再转换为字符串。

---

参考代码： [data_transform.py](data_transform.py) 

## 变量

变量在程序中就是用一个变量名表示了，**变量名必须是大小写英文、数字和`_`的组合，且不能用数字开头。**

理解变量在计算机内存中的表示也非常重要。当我们写：

```python
a = 'ABC'
```

时，Python解释器干了两件事情：

1. 在内存中创建了一个`'ABC'`的字符串；
2. 在内存中创建了一个名为`a`的变量，并把它指向`'ABC'`。

也可以把一个变量`a`赋值给另一个变量`b`，**这个操作实际上是把变量`b`指向变量`a`所指向的数据。**

---

参考代码： [variable.py](variable.py) 

## 常量

在Python中，通常**用全部大写的变量名表示常量。**

>**Python根本没有任何机制保证常量不会被改变，**所以，用全部大写的变量名表示常量只是一个习惯上的用法，如果你一定要改变常量的值，也没人能拦住你。

---

参考代码： [const.py](const.py) 

## 字符编码

Unicode把所有语言都统一到一套编码里，这样就不会再有乱码问题了。

ASCII编码和Unicode编码的区别：ASCII编码是1个字节表示1个字符，而Unicode编码通常是2个字节表示1个字符。

如果统一成Unicode编码，乱码问题从此消失了。但是，如果你写的文本基本上全部是英文的话，**用Unicode编码比ASCII编码需要多一倍的存储空间，在存储和传输上就十分不划算。**

于是又出现了把Unicode编码转化为**“可变长编码”的`UTF-8`编码**。UTF-8编码把一个Unicode字符根据不同的数字大小编码成1-6个字节，常用的英文字母被编码成1个字节，汉字通常是3个字节，只有很生僻的字符才会被编码成4-6个字节。

**在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码。**

## Python字符串

在最新的Python 3版本中，字符串在内存中是以Unicode编码的。一个字符对应若干个字节。**如果要在网络上传输，或者保存到磁盘上，就需要把`str`变为以字节为单位的`bytes`。**

Python对`bytes`类型的数据用带`b`前缀的单引号或双引号表示：

```python
x = b'ABC'
```

要注意区分`'ABC'`和`b'ABC'`，前者是`str`，后者虽然内容显示得和前者一样，但`bytes`的每个字符都只占用一个字节。

`len()`函数计算的是`str`的字符数，如果换成`bytes`，`len()`函数就计算字节数。

字符串是不可变对象。**对于不变对象来说，调用对象自身的任意方法，也不会改变该对象自身的内容。**相反，这些方法会创建新的对象并返回，这样，就保证了不可变对象本身永远是不可变的。

---

参考代码： [string.py](string.py) 

## list和tuple

### list

list是一种**有序的集合**，可以随时添加和删除其中的元素，因此它的大小是可变的。list里面的元素的数据类型也可以不同。

用len()可以获得list元素的个数。空列表表示为`L = []`

可以**利用索引来访问list中每一个元素的位置**，索引从`0`开始。如果要取最后一个元素，除了计算索引位置外，还可以用`-1`做索引，直接获取最后一个元素。

list的一些常用方法：

1. 追加元素到list末尾：`list.append('ele')`
2. 删除list末尾的元素：`list.pop()`
3. 把元素插入到指定的位置，如索引号为1的位置：`list.insert(1, 'ele')`
4. 删除指定位置i的元素：`list.pop(i)`

---

参考代码： [list.py](list.py) 

### tuple

tuple和list非常类似，但是**tuple一旦初始化就不能修改**。不能修改它的元素，也不能对它添加或删除元素。

当你定义一个tuple时，在定义的时候，tuple的元素就必须被确定下来。

如果要定义一个空的tuple，可以写成`t = ()`；

如果要定义一个只有1个元素的tuple时必须加一个逗号`,`，可以写成`t = (1,)`

> 🔑tuple所谓的“不变”是说，tuple的每个元素，指向永远不变。即指向`'a'`，就不能改成指向`'b'`，指向一个list，就不能改成指向其他对象，但指向的这个list本身是可变的！

---

参考代码： [tuple.py](tuple.py) 

## 条件判断

条件判断可以让计算机自己做选择，Python的if...elif...else很灵活。

条件判断从上向下匹配，当满足条件时执行对应的块内语句，后续的elif和else都不再执行。

![python-if](https://www.liaoxuefeng.com/files/attachments/924016831038688/0)

> 非零数值、非空字符串、非空list，非空tuple等，就判断为`True`，否则为`False`。

---

参考代码： [if.py](if.py) 

## 循环

Python的循环有两种，**一种是for...in循环**，依次把可迭代对象中的每个元素迭代出来。

**第二种循环是while循环**，只要条件满足，就不断循环，条件不满足时退出循环。

Python提供一个`range()`函数，可以生成一个整数序列，再通过`list()`函数可以转换为list。比如`range(5)`生成的序列是从0开始小于5的整数：

`break`语句可以在循环过程中直接退出循环，而`continue`语句可以提前结束本轮循环，并直接开始下一轮循环。这两个语句通常都*必须*配合`if`语句使用。

---

参考代码： [loop.py](loop.py) 

## 字典dict

Python内置了字典：dict的支持，使用键-值（key-value）存储，具有极快的查找速度。

把数据放入dict的方法，除了初始化时指定外，还可以通过key放入。

```python
>>> d['Adam'] = 67
>>> d['Adam']
67
```

由于**一个key只能对应一个value，所以，多次对一个key放入value，后面的值会把前面的值冲掉。**

如果key不存在，那么查找使用这个key时，dict就会报错。要避免key不存在的错误，有两种办法：

1. 通过`in`判断key是否存在
2. 通过dict提供的`get()`方法，如果key不存在，可以返回`None`，或者自己指定的value

要删除一个key，用`pop(key)`方法，对应的value也会从dict中删除。

**dict的key必须是**不可变对象**。**这是因为dict根据key来计算value的存储位置，如果每次计算相同的key得出的结果不同，那dict内部就完全混乱了。

---

参考代码： [dict.py](dict.py) 

## 集合set

set和dict类似，也是一组key的集合，但不存储value。由于key不能重复，所以，在set中，没有重复的key。

要创建一个set，需要提供一个list作为输入集合：

```python
>>> s = set([1, 2, 3])
>>> s
{1, 2, 3}
```

**重复元素在set中自动被过滤。**

通过`add(key)`方法可以添加元素到set中，可以重复添加，但不会有效果：通过`remove(key)`方法可以删除元素.

**set同样不可以放入可变对象，因为无法判断两个可变对象是否相等，也就无法保证set内部“不会有重复元素”。**

---

参考代码： [set.py](set.py) 



